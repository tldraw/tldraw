"use strict";Object.defineProperty(exports, "__esModule", {value: true});var _chunkT6SARJYHjs = require('./chunk.T6SARJYH.js');var _htmlparser2 = require('htmlparser2');var O={lowerCaseTags:!1,lowerCaseAttributeNames:!1,decodeEntities:!1},v=[{name:"!doctype",start:"<",end:">"}],w=(a,f={})=>{let d=new (0, _chunkT6SARJYHjs.a)(a),s=[],i=[];function c(){return s[s.length-1]}function g(e,t){return e.name instanceof RegExp?new RegExp(e.name.source,"i").test(t):t===e.name}function b(e){let t={};return Object.keys(e).forEach(n=>{let o={};o[n]=String(e[n]).replace(/&quot;/g,'"'),Object.assign(t,o)}),t}function h(e,t){var p;let n=v.concat((p=f.directives)!=null?p:[]),o=c();for(let u of n){let l=u.start+t+u.end;if(g(u,e.toLowerCase())){if(o===void 0){i.push(l);return}typeof o=="object"&&(o.content===void 0&&(o.content=[]),o.content.push(l))}}}function m(e){let t=`<!--${e}-->`,n=c();if(n===void 0){i.push(t);return}typeof n=="object"&&(n.content===void 0&&(n.content=[]),n.content.push(t))}function N(e,t){let n=d.getPosition(r.startIndex),o={tag:e};f.sourceLocations&&(o.location={start:n,end:n}),Object.keys(t).length>0&&(o.attrs=b(t)),s.push(o)}function y(){let e=s.pop();if(e&&typeof e=="object"&&e.location&&r.endIndex!==null&&(e.location.end=d.getPosition(r.endIndex)),e){let t=c();if(s.length<=0){i.push(e);return}typeof t=="object"&&(t.content===void 0&&(t.content=[]),t.content.push(e))}}function A(e){let t=c();if(t===void 0){i.push(e);return}if(typeof t=="object"){if(t.content&&t.content.length>0){let n=t.content[t.content.length-1];if(typeof n=="string"&&!n.startsWith("<!--")){t.content[t.content.length-1]=`${n}${e}`;return}}t.content===void 0&&(t.content=[]),t.content.push(e)}}let r=new (0, _htmlparser2.Parser)({onprocessinginstruction:h,oncomment:m,onopentag:N,onclosetag:y,ontext:A},{...O,...f});return r.write(a),r.end(),i},T= exports.default =w;exports.default = T;
