<div alt style="text-align: center; transform: scale(.5);">
	<picture>
		<source media="(prefers-color-scheme: dark)" srcset="https://raw.githubusercontent.com/tldraw/tldraw/main/assets/github-hero-dark.png" />
		<img alt="tldraw" src="https://raw.githubusercontent.com/tldraw/tldraw/main/assets/github-hero-light.png" />
	</picture>
</div>

# tldraw Code Editor Template

A code editor starter kit for executing JavaScript code that controls the tldraw canvas programmatically. This template features a split-view interface with a code editor on the left and the tldraw canvas on the right, allowing you to write and execute code that creates shapes and manipulates the canvas in real-time.

## Features

- **Live Code Execution**: Write JavaScript code that directly controls the tldraw canvas
- **Split View Layout**: Resizable panels with code editor and canvas side-by-side
- **Shape Tracking**: Automatically isolates shapes created by code from hand-drawn content
- **Quick Reference**: Built-in cheat sheet with common API examples
- **Error Handling**: User-friendly error reporting with console integration
- **Keyboard Shortcuts**: Run code with Cmd/Ctrl+Enter
- **Responsive Design**: Works on both desktop and mobile devices
- **Automatic Persistence**: Code and panel layout are saved to localStorage and restored on reload

## Quick Start

Try running this example code by clicking the "Run" button or pressing Cmd/Ctrl+Enter:

```javascript
// Create a blue rectangle
editor.createShape({
	id: createShapeId(),
	type: 'geo',
	x: 100,
	y: 100,
	props: {
		w: 200,
		h: 100,
		geo: 'rectangle',
		color: 'blue',
		fill: 'solid',
	},
})

// Create a red circle
editor.createShape({
	id: createShapeId(),
	type: 'geo',
	x: 350,
	y: 150,
	props: {
		w: 120,
		h: 120,
		geo: 'ellipse',
		color: 'red',
		fill: 'semi',
	},
})

// Zoom to fit all shapes
editor.zoomToFit()
```

## Available APIs

The following objects are available globally in your code:

- **`editor`** - The tldraw Editor instance with full API access
- **`createShapeId()`** - Function to generate unique shape IDs
- **`_`** - All exports from `@tldraw/editor` package for advanced utilities

### Using the `_` Namespace

All editor exports are available under `_`, giving you access to utilities like:

```javascript
// Rich text utilities
const richText = _.toRichText('Hello **bold** text!')

// Geometry utilities
const box = _.Box.fromPoints([
	{ x: 0, y: 0 },
	{ x: 100, y: 100 },
])
const contains = _.Box.includes(box, { x: 50, y: 50 })

// Math utilities
const angle = _.Vec.angle({ x: 0, y: 0 }, { x: 100, y: 100 })

// See what's available
console.log('Available utilities:', Object.keys(_))
```

## UI Controls

The code editor interface includes several helpful controls:

- **? Button**: Toggle the cheat sheet with API examples
- **â†» Button**: Reset code to default example (with confirmation)
- **Clear Button**: Remove all shapes generated by code execution
- **Run Button**: Execute the current code (or use Cmd/Ctrl+Enter)
- **Resizable Panels**: Drag the divider to adjust code/canvas split
- **Automatic Save**: Code and panel layout persist between sessions

## Local development

Install dependencies with `yarn` or `npm install`.

Run the development server with `yarn dev` or `npm run dev`.

Open `http://localhost:5173/` in your browser to see the app.

## License

This project is provided under the MIT license found [here](https://github.com/tldraw/vite-template/blob/main/LICENSE.md). The tldraw SDK is provided under the [tldraw license](https://github.com/tldraw/tldraw/blob/main/LICENSE.md).

## Trademarks

Copyright (c) 2024-present tldraw Inc. The tldraw name and logo are trademarks of tldraw. Please see our [trademark guidelines](https://github.com/tldraw/tldraw/blob/main/TRADEMARKS.md) for info on acceptable usage.

## Distributions

You can find tldraw on npm [here](https://www.npmjs.com/package/@tldraw/tldraw?activeTab=versions).

## Contribution

Please see our [contributing guide](https://github.com/tldraw/tldraw/blob/main/CONTRIBUTING.md). Found a bug? Please [submit an issue](https://github.com/tldraw/tldraw/issues/new).

## Community

Have questions, comments or feedback? [Join our discord](https://discord.tldraw.com/?utm_source=github&utm_medium=readme&utm_campaign=sociallink). For the latest news and release notes, visit [tldraw.dev](https://tldraw.dev).

## Contact

Find us on Twitter/X at [@tldraw](https://twitter.com/tldraw).
