---
title: 'v4.0'
created_at: 09/18/2025
updated_at: 09/18/2025
keywords:
  - changelog
  - release
  - v4.0
  - starter-kits
  - cli
  - accessibility
  - licensing
  - rich-text
---

## v4.0.0

This release marks a major milestone for tldraw with new starter kits, a CLI tool, accessibility improvements, and API enhancements for building custom canvas applications.

## What's new

### npm create tldraw

This release includes our new CLI tool, available at `npm create tldraw`. You can use this tool to quickly create new tldraw projects using our templates and new starter kits.

### Starter kits

This release includes five new starter kits:

- [agent](https://tldraw.dev/starter-kits/agent) is a Cursor-style chatbot starter that uses tldraw's canvas as a context for conversation with an AI assistant.
- [workflow](https://tldraw.dev/starter-kits/workflow) is a node-and-wire visual programming starter for building tools like automation workflows or state machines.
- [branching-chat](https://tldraw.dev/starter-kits/branching-chat) is a multi-path conversation interface starter for exploring different conversation branches.
- [chat](https://tldraw.dev/starter-kits/chat) is a canvas-based image annotation starter with chatbot integration.
- [multiplayer](https://tldraw.dev/starter-kits/multiplayer) is a collaborative whiteboard foundation built on tldraw sync.

All starter kits are MIT licensed.

### Licensing

Production deployments now require a license key (development and localhost are exempt). Options include:

- Free 100-day trial license
- Commercial license for commercial projects
- Hobby license for non-commercial use

### Accessibility

This release achieves WCAG 2.2 Level AA compliance, including an accessibility mode, improved keyboard shortcuts, aria-labels, and scrollable menus.

### Drag from toolbar

Create shapes by dragging directly from the toolbar instead of clicking and then drawing.

### Custom shape clipping

Any shape can now clip its children, enabling more complex visual hierarchies.

### Vertical toolbar support

The toolbar now supports vertical orientation for different layout requirements.

### Rich text arrows

Arrow labels now support rich text formatting.

## Breaking changes

- All of tldraw's CSS variables now start with `--tl-`. If you're using any of our variables in your own CSS, you'll need to update them. For example:
  - `--color-background` is now `--tl-color-background`
  - `--space-4` is now `--tl-space-4`

- `Geometry2D.isLabel` has been replaced with a separate `excludeFromShapeBounds` flag.

- The `open-url` event now uses `destinationUrl` instead of `url`.

- Arrow shapes now have a `richText` property instead of `text`. The data will migrate automatically, but if you're accessing or setting `arrow.props.text` directly, you'll need to update your code to use `arrow.props.richText`.

- The `@tldraw/ai` module has been removed. Use the agent starter kit instead.

- Event propagation behavior has changed. Use `editor.markEventAsHandled()` for custom event handling.

- The style panel has been redesigned and the old picker components have been removed.

- Toolbar CSS class names have been updated.

## API changes

- Add custom messages in `TLSocketRoom` via `sendCustomMessage()` and `onCustomMessageReceived`. ([#6614](https://github.com/tldraw/tldraw/pull/6614)) (contributed by [@mootari](https://github.com/mootari))

- Add `Editor.getShapesAtPoint()` with flexible margin options.

- Add `ShapeUtil.isExportBoundsContainer` and `canCull` methods for export and rendering control.

- Add `editor.toImageDataUrl()` for generating image data URLs from shapes.

- Add `EditorAtom` for UI state management outside React.

- Add enhanced handle drag callbacks with timing events.

## Bug fixes

- Fix arrow labels being cut off in exports.
- Fix PNG physical pixel dimensions parsing.
- Fix pointer events on mobile firing inconsistently.
- Fix Chrome embed positioning at non-100% zoom levels.
- Fix hollow shapes not being properly bound-to by arrows.

[View release on GitHub](https://github.com/tldraw/tldraw/releases/tag/v4.0.0)

---

## Patch releases

### v4.0.1

Fix template exports and documentation. ([#6804](https://github.com/tldraw/tldraw/pull/6804)) ([#6805](https://github.com/tldraw/tldraw/pull/6805))

[View release on GitHub](https://github.com/tldraw/tldraw/releases/tag/v4.0.1)

### v4.0.2

Fix focus mode SDK issue that caused problems when using focus mode in the SDK. ([#6815](https://github.com/tldraw/tldraw/pull/6815))

[View release on GitHub](https://github.com/tldraw/tldraw/releases/tag/v4.0.2)

### v4.0.3

Add Claude 4.5 Sonnet to agent starter kit. ([#6852](https://github.com/tldraw/tldraw/pull/6852)) Ensure templates don't use internal functions. ([#6871](https://github.com/tldraw/tldraw/pull/6871))

[View release on GitHub](https://github.com/tldraw/tldraw/releases/tag/v4.0.3)

### v4.0.4

Fix shape index jitter for the first shape created, preventing potential index collisions. ([#6884](https://github.com/tldraw/tldraw/pull/6884))

[View release on GitHub](https://github.com/tldraw/tldraw/releases/tag/v4.0.4)
