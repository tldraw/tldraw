---
title: 'v3.0'
created_at: 09/13/2024
updated_at: 12/20/2024
keywords:
  - changelog
  - release
  - v3.0
  - licensing
  - deep-links
  - export
  - embeds
  - text-search
---

## v3.0.0

This release introduces a revised licensing model alongside deep links, enhanced image export, custom embeds, and a new text search API.

### Licensing

The most significant change involves updated licenses permitting use in both commercial and non-commercial projects when displaying a "Made with tldraw" watermark. Users can now purchase Business Licenses to remove the watermark, with details available at [tldraw.dev](https://tldraw.dev). ([#4449](https://github.com/tldraw/tldraw/pull/4449), [#4517](https://github.com/tldraw/tldraw/pull/4517), [#4561](https://github.com/tldraw/tldraw/pull/4561))

### Deep links

New APIs enable creation of shareable URLs pointing to specific canvas locations, such as particular shapes or pages, with automatic URL updates as users navigate.

```typescript
// Create a deep link to a specific shape
const url = editor.createDeepLink({
	shapeId: 'shape-id',
	viewport: 'fit',
})

// The URL updates automatically as you navigate
editor.on('change', () => {
	const currentUrl = editor.getCurrentDeepLink()
})
```

See the [deep links guide](https://tldraw.dev/docs/editor#Deep-links) for more information. ([#4498](https://github.com/tldraw/tldraw/pull/4498))

### Enhanced image export

Custom shapes now export as images by default through HTML/CSS embedding within SVG files, eliminating the need for developers to implement custom SVG rendering methods.

```typescript
// Custom shapes automatically export as images
class MyShapeUtil extends ShapeUtil<MyShape> {
  // No need to implement toSvg() anymore
  component(shape: MyShape) {
    return <div className="my-shape">{/* ... */}</div>
  }
}
```

### Custom embeds API

Developers can now customize which external websites (YouTube, Google Maps, CodeSandbox, etc.) appear as embeddable content, or add entirely new embed types.

```typescript
// Add a custom embed type
const customEmbedDef = {
  type: 'custom',
  title: 'My Custom Embed',
  hostnames: ['mysite.com'],
  toEmbedUrl: (url: string) => `https://mysite.com/embed/${url}`,
  fromEmbedUrl: (url: string) => url.replace('/embed/', '/')
}

<Tldraw embedDefs={[customEmbedDef, ...defaultEmbedDefs]} />
```

### Text search via getText API

A new `getText` API provides reliable access to human-readable shape content, facilitating text search implementation within applications.

```typescript
// Search through all shapes for text content
const searchResults = editor.getCurrentPageShapes().filter((shape) => {
	const text = editor.getText(shape.id)
	return text?.toLowerCase().includes(searchTerm.toLowerCase())
})
```

### Breaking changes

#### TLRotationSnapshot type removed

The `TLRotationSnapshot` type has been removed from the public API.

**Migration:**

```typescript
// Before
import { TLRotationSnapshot } from '@tldraw/editor'
const snapshot: TLRotationSnapshot = editor.getRotationSnapshot()

// After
// This functionality is now internal. If you need rotation state,
// use editor.getShapePageTransform(shape) instead
const transform = editor.getShapePageTransform(shape)
const rotation = transform.rotation()
```

#### onEditorMount renamed to onMount

The `onEditorMount` callback in `createTLStore` has been renamed to `onMount` for consistency.

**Migration:**

```typescript
// Before
const store = createTLStore({
	onEditorMount: (editor) => {
		// setup code
	},
})

// After
const store = createTLStore({
	onMount: (editor) => {
		// setup code
	},
})
```

#### Editor.mark() deprecated

`Editor.mark()` has been deprecated in favor of `Editor.markHistoryStoppingPoint()` for clearer intent.

**Migration:**

```typescript
// Before
editor.mark('my-operation')
editor.updateShape(/* ... */)

// After
editor.markHistoryStoppingPoint('my-operation')
editor.updateShape(/* ... */)
```

#### TLSvgOptions renamed to TLImageExportOptions

The `TLSvgOptions` type has been renamed to `TLImageExportOptions` to better reflect its broader use in image export.

**Migration:**

```typescript
// Before
import { TLSvgOptions } from '@tldraw/editor'
const options: TLSvgOptions = { scale: 2, background: true }
editor.getSvg(ids, options)

// After
import { TLImageExportOptions } from '@tldraw/editor'
const options: TLImageExportOptions = { scale: 2, background: true }
editor.getSvg(ids, options)
```

#### Focus event behavior changed

Calling `updateInstanceState({isFocused: true})` now triggers standard focus events consistently.

**Migration:**

```typescript
// Before
// Setting isFocused directly may not have triggered all focus handlers
editor.updateInstanceState({ isFocused: true })

// After
// Use the editor.focus() method for reliable focus behavior
editor.focus()

// Or, if you specifically need to update instance state:
editor.updateInstanceState({ isFocused: true })
// Note: This now properly triggers focus events
```

### Improvements

- Enhanced bookmark rendering for URLs without preview images ([#4460](https://github.com/tldraw/tldraw/pull/4460))
- Better handling of asset storage and persistence ([#4542](https://github.com/tldraw/tldraw/pull/4542))
- Improved documentation search functionality ([#4485](https://github.com/tldraw/tldraw/pull/4485))
- Watermark appearance and behavior refinements ([#4589](https://github.com/tldraw/tldraw/pull/4589), [#4622](https://github.com/tldraw/tldraw/pull/4622))

### API changes

- Added `editor.getText(shapeId)` method for accessing shape text content
- Added `editor.createDeepLink(options)` for generating shareable URLs
- Added `embedDefs` prop to Tldraw component for customizing embed types
- Exposed additional shape export utilities for custom image generation

[View release on GitHub](https://github.com/tldraw/tldraw/releases/tag/v3.0.0)

---

## Patch releases

### v3.0.1

Fix documentation search functionality and article issues. ([#4515](https://github.com/tldraw/tldraw/pull/4515))

[View release on GitHub](https://github.com/tldraw/tldraw/releases/tag/v3.0.1)

### v3.0.2

Fix build caching issue causing "You have multiple versions of tldraw libraries installed" errors, and resolve container null error. ([#4525](https://github.com/tldraw/tldraw/pull/4525), [#4524](https://github.com/tldraw/tldraw/pull/4524))

[View release on GitHub](https://github.com/tldraw/tldraw/releases/tag/v3.0.2)

### v3.0.3

Bug fixes for the editor and tldraw packages. ([#4541](https://github.com/tldraw/tldraw/pull/4541))

[View release on GitHub](https://github.com/tldraw/tldraw/releases/tag/v3.0.3)
